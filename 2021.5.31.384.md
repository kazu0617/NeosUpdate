**2021.5.13.384**
皆さん、こんにちは。少し時間がかかってしまいましたが、デスクトップ用のFreeformカメラが完成しました！カメラモードの基本セットとデスクトップ開発の第一段階が完了しました。笑) 。この後は他のことに集中する予定ですが、この後も少しずつ調整や追加をしていく予定です。キーバインドは今のところ暫定的なものなので、今後良い方法を見つけていくうちに少しずつ変化していくと思います。

他にもたくさんの改善点があります。手作業や潜在的なミスを減らすために、ビルドプロセスをAzure Pipelinesに移行することに取り組んできましたが、その結果、最初の小さな成果が得られました。モデルインポート用のAssimpライブラリがアップグレードされました！このおかげで、ライブラリの新しいビルドを取得するのがより簡単で速くなりました。

また、UIの整列モードやその他のデスクトップ機能についても、いくつかのバグ修正や改善が行われました。いくつかの新しいLogiXノード、LogiXの改善などがあります。デスクトップのカメラモードもパーミッションシステムでコントロールできるようになり、必要に応じてフリーフォームカメラや三人称を無効にすることができるようになりました(例：ゲームワールドの場合)。

**新機能**:
- Freeform Cameraモードの初期バージョンを追加しました。このモードでは、キャラクターとは無関係にビューを自由に動かすことができます。
-- F6キーを押すことで有効/無効を切り替えることができます (これは暫定的なものであり、キーバインドは将来的に変更される予定です) 。
-- 有効にすると、マウスカーソルが解放され、アイテムやギズモなどの要素を自由に操作できるようになります。
-- パン/移動するには、まずCtrlを押しながら、次に右マウスボタンを押します。このモードでは、WASD、C、Spaceを使ってカメラを動かすことができます。
-- 右マウスボタンを押した後にCtrlを離しても、パン／移動モードは有効になります。
-- マウスの左ボタンを押したままにすると、キャラクターが現在のカーソルのある方向を向き、ロコモーションを使って歩き回ることができます (このモードでの動きはカーソルに対する相対的なもので、Wはスクリーン上のカーソルのある方向に向かって歩くことになります) 。
-- 今後も様々な動作が予定されています。
さらに次のような動作を予定しています： --- 世界の特定のオブジェクトに焦点を当て、それを周回することができます。
--- ビュープロキシから声が出るようにしました (十分な距離がある場合) 。

- 頭部から切り離されたときにユーザーの視点がどこにあるかを示すビューアバタービジュアルを追加しました。
-- 現在、フリーフォームカメラモードでは常に表示されています。
現在はフリーフォームカメラモードの時は常に有効 -- UIアラインドカメラモードでは、視点がアバターの頭から大きく離れているか、十分に離れている (現時点では6メートル) 場合にのみ表示され、近くのUIとのインタラクション時にポップアップしないようになっています。
-- 現在のデフォルトビジュアルは暫定的なもので、近々より良いものに変更される予定です。
-- 新しい BodyNode "View" を使って、アバターに新しいパーツを追加することで、ビジュアルをカスタマイズすることができます。これは、デフォルトのアバターの手や頭を埋めるのと同じ原理です。
-- ビジュアルはアクティブ／非アクティブに応じて拡大／縮小され、非アクティブ時にはそのルートは無効になります。
- `ScreenViewPermissions` 許可コンポーネントを追加し、ビューモードをコントロールできるユーザーを制限できるようになりました。
-- 新しいワールドでは、デフォルトでどのビューモードでも使用できるようになりました。
-- 既存のワールドは、 `CameraPermissions` コンポーネントに基づいて、以下のルールで自動的にアップグレードされます。
既存のワールドは `CameraPermissions` コンポーネントに基づいて以下のルールで自動的にアップグレードされます： --- Streaming Camera Third Personが無効の場合、三人称視点も無効になります。
--- Streaming Camera Group, World, Manual, Framing of Other Usersが無効の場合、FreeformとUIカメラも無効になる。
-- 特定のモードを許可/不許可するには、以下のデータタイプを使用します。
--- `FrooxEngine.FirstPersonTargettingController` (一人称)
--- `FrooxEngine.ThirdPersonTargettingController` (三人称)
--- `FrooxEngine.UI_TargettingController` (UIターゲティング)
--- `FrooxEngine.FreeformTargettingController` (フリーフォームカメラ)

- 文字定数(特殊文字・制御文字)を追加 (`String/Special Characters`)  (RobertBaruch, Zyzyl, Shadow Panther [RU/EN, UTC+3], Alex from Alaska, Jack のリクエストに基づく)
-- 追加された制御文字: `\n, \b, \a, \t (tab), \r, \v, \f, ' ' (space)`
- Worldsのインターフェースにソートパラメータとして `Total Visits` を追加しました。
- `AvatarPoseNode` に `RunAfterInputUpdate` を追加し、全ての入力インタラクションが更新された後にポージングを実行するようにしました。
-- これはViewノードに必要で、ポーズが1フレーム遅れないようにします。
- ユーザーのプロファイル情報を取得するためのシンプルなOAuth APIエンドポイントを追加しました。https://cloudx-account.azurewebsites.net/api/user/profile 
-- プロファイルの情報を取得するためには、少なくともプロファイルのスコープと、EmailとPatreonのスコープが必要になります。

**微調整**:
- WindowsおよびLinux用のAssimp (3Dモデルインポートライブラリ) をソースから最新版にアップグレードしました。
-- このバージョンには、一般的なフォーマットサポートを改善するための追加、調整、修正が約400コミット含まれています。
-- Linuxでアーマチュアのないモデルをインポートする際のクラッシュが修正される可能性があります。
- 他のインタラクティビティを持たないオブジェクト (GrabbableやTouchableなど) でもUIアライメントカメラを有効にできるようになりました (報告者：Shifty | Quality Control Lead
- アバターの手が不自然な角度にならないように、UI整列カメラモードでの頭部の照準を改善しました。
- LogiX入力を接続する際、「char」データタイプが「string」に暗黙的にキャストされるようになりました。
- 様々なセキュリティの改善 (モデレーションチームの報告に基づく
- インスペクタでボーンデータ診断を生成する際に、数値が小さすぎて読みづらくならないようにマトリックスをフォーマットするようになりました。
- 新規作成」ダイアログの位置が他のダイアログと一致するようになりました(これにより、UI Alignedカメラモードなどで誤った位置に生成される問題が修正されました)
- `AvatarExpressionDriver` でヒューリスティックに割り当てる際、水平および垂直方向の式の Min/Max がデフォルトで -1 ～ 1 になるようになりました (3x1t_5tyl3 の報告に基づく)
- `AvatarExpressionDriver` でデータソースが NULL の場合、すべてのブレンドシェイプが Min 値ではなく 0 にリセットされるようになりました (3x1t_5tyl3 のフィードバックに基づく)

- Ruzさんによるスペイン語翻訳の追加を適用
- YellowさんによるEsperanto翻訳のオーバーホールを適用
- rampa_3さんによるチェコの翻訳調整を適用
- MirPASECさんによる韓国語翻訳の調整を適用

**バグ修正**:
- UI Aligned Camera モードで、アイテムをクリックして整列させ、すぐに離すとアイテムが原点にジャンプしてしまう問題を修正 (報告者：Shifty | Quality Control Lead and Snooper)
- 入力グループを無効にするとリセットされるため、入力が最後の状態になってしまうことがあった問題を修正
- デスクトップモードで掴んだアイテムが、プロシージャルアニメーションでキャラクターが回転することにより、ビューに対して相対的に回転してしまうことがあった問題を修正
- LogiX入力ノードでUndoステップが機能しないことがあった問題を修正 (AshtonSparxとH3BO3が報告)
- デスクトップ モードのツール ショートカットで `Holder` スロットが残る問題を修正しました (報告者：3x1t_5tyl3 )
- UI Aligned Camera モード で LogiX Interface、Drive、Referenceノードが適切にスポーンするようになりました (Shifty | Quality Control Leadの報告に基づく) 。
- 子を持たないアイテムを保存すると例外が発生する問題を修正 (Shifty | Quality Control Leadのログより)

**2021.5.13.433**
デスクトップモードでアバターが折りたたまれたり、表示が乱れたりする問題を解決するための簡単なHotfixです。以前のバージョンとの互換性があり、問題が発生しない場合はアップデートする必要はありません。

**バグ修正**:
- デスクトップビューをターゲットにしたコントローラーに、クォータニオンの再正規化パスを追加しました。これにより、アバターが使えなくなったり、ビジュアルが破損したりするような状態になるのを防ぐことができます。