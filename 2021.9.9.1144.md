**2021.9.9.1144**
皆さん、こんにちは。今回は教育プロジェクトのための小規模なビルドですが、重要なバグフィックスが多数含まれています。

特に時間同期の問題はうまくいけば修正されるでしょう。セッションに新しく参加したユーザーの再生時間がずれてしまうという問題がありました。

また、CharacterController の unglue ロジックにもいくつかの改良を加えました。これにより、既存のビヘイビアやガジェットが改善され、古いコンテンツの問題も修正されました。

重要なのは、アバターをブレンドシェイプの影響を受けない部分に分離するための改良と修正を行い、シーンの照明によって継ぎ目が見えてしまうケースを修正しました。今までこのオプションを使わなかった人は、もう一度試してみるといいかもしれません。「`使用していないブレンドシェイプを除去`」を実行した後、「`ブレンドシェイプの影響を受けないメッシュのパーツを分離`」を実行することをお勧めします。

**新機能**:
- `ScaleObjectManager`のトランジションシステムを再構築しました。
-- 遷移時にオブジェクトにオフセットを適用するオフセット遷移を追加しました。
-- サイズトランジションを独立した構成として追加しました。
-- トランジションの範囲を近距離と遠距離の境界に分けました。
-- 遷移範囲に `Exp` を追加し、遷移をスムーズにすることができるようになりました。

**調整**:
- 最新のBEPUv2アップデートをソースからマージしました。
-- これにより、円柱と三角形の相互作用が改善され、船体と船体の相互作用が修正されました。
- `SkinnedMeshRenderer`を、ブレンドシェイプの影響を受ける部分と受けない部分に分けることで、最終セットアップでルートボーンを適切に保持するようになりました。
-- これにより、複数のライトが存在する環境でフォワードレンダリングされたマテリアルを使用する際に、目に見える継ぎ目が生じるのではなく、両方のメッシュで同じライティングが保たれるようになりました（Kulza, AshtonSparx, Enverex, Shifty | Quality Control Lead などの報告に基づく）。
**最適化**:
- ベクトル、クォータニオン、マトリックス、カラー、バウンディングボックス、その他の構造体タイプのメソッドとプロパティに読み取り専用のデコレータを追加し、コンパイラによって不要な防御的コピーが生成されるのを防ぎました。
- SkinnedMeshRendererが変更されたときのみではなく、SkinnedMeshRendererが更新されるたびにバウンド・アップデート・メソッドを再構成されてしまう問題を回避しました。

**セキュリティ**:
- `AprilFoolsViolentExplosion`が`SimpleAvatarProtection`を持つアバター上で、ユーザがそのアバターを使用する権限を持っていない場合に実行されないようになりました（ @Aetoriz さんと @Rabbuttz のレポート、Ticket #607491に基づく)

**バグ修正**:
- GitHub API が認証トークンを使用するようになり、priorityIssue メッセージや優先課題の更新がレート制限される問題が修正されました（Lexevo と Sox による以前の報告に基づく、GitHub Issue #2942）。
- Android版のビルドが失敗する問題を修正しました（報告者：Shadow Panther [RU/EN, UTC+3], GitHub Issue #2966）。
- 力を加えたりキャラクターの速度を変更した時の接着解除のロジックを変更し、Tractionのサポートを維持する代わりに接着力を大幅に減少させました(報告者：TheBasementNerd (she/her), CrowDevil I LoF Manager, and H3BO3, GitHub Issue #2978 and GitHub Issue #2900)
- `CharacterController`のアンラグのための速度変化のしきい値を増やし、デルタタイムの補正を追加しました（上記と同じ問題に基づく）
- コンテクストメニューのフリック選択で、ボタンを押すと無効になっていたのを修正しました (報告: Delta, GitHub Issue #2979)
- `BagEditor`と`ListEditor`が変更された場合、イベントの登録解除が適切に行われず、セッションがクラッシュする可能性があった問題を修正しました (報告: Kulza, GitHub Issue #2974)
- 最近のリワーク後のメッセージからホストタイムを使用していない世界に参加するときに、初期状態の同期を修正しました。これによりビデオとオーディオの再生のオフセットがよりよくなりました (報告: Enverex, GitHub Issue #2943)
-- また、次のデルタタイムを適切に計算するメカニズムを追加し、デコードと最初のアップデートの間の時間を確実に考慮することで、ワールドに参加して数秒後に別の時間修正が必要になる可能性を減らしました。
- `ChildParentAudioClipPlayer`がサウンドを全く再生しない問題の再発を修正（Earthmark, Epsilionの報告に基づく）。
- `SkinnedMeshRenderer`のBoundsのProxyモードにて、Boundsの対象が正しく登録されず、イベントの登録解除ができなかった問題を修正
-- これにより、Proxy boundsが適切に動作しない場合や、イベントが削除された後に残る場合があった問題を修正しました。
